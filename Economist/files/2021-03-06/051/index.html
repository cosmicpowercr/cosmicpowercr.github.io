<html>

<head>
    <title>每日听力</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css">
    <script src="../../live2d-widget/autoload.js"></script>
    <h1 class="filetitle">051 Britain - Labour in Scotland</h1>
    <style>
        html,
        body {
            margin: 0;
            padding: 0;
        }

        .headerBar {
            position: fixed;
            color: #fff;
            font-family: '微软雅黑', '黑体', arial, tahoma, verdana, sans-serif;
            font-size: 16px;
            background: url('../../resource/playBack.jpg') 0 -200px repeat-x;
            width: 100%;
            height: 48px;
            z-index: 8;
            left: 0;
            top: 0;
            padding: 0 65px;
            margin: 0 auto;
        }

        .logo {
            line-height: 32px;
            height: 31px;
            margin: 8px 0 7px 0;
            float: left;
        }

        .logo a {
            background: url('../../resource/playBack.jpg') -119px 1px no-repeat;
            padding-left: 45px;
            display: block;
            color: #fff;
        }

        #audio {
            margin-top: 9px;
            width: 50%;
            display: inline-block;
        }

        #transcript {
            margin: 10px auto;
            /* margin-top: 70px; */
            margin-bottom: 5em;
            white-space: pre-wrap;
            /* line-height: 2em; */
            border-style: solid;
            border-width: 1px;
            width: 1000px;
            /* padding-top: 25px; */
            padding-bottom: 25px;
            padding-right: 50px;
            padding-left: 50px;
            color: rgb(0, 0, 0);
            font-size: 20pt;
        }

        .active {
            color: #058cf5;
        }

        .filetitle {
            margin-top: 65px;
            margin-left: auto;
            margin-right: auto;
            margin-bottom: 5px;
            width: 1000px;
            padding-right: 50px;
            padding-left: 50px;
            font-size: 40px;
        }
    </style>
</head>

<body>
    <!-- 加载jsonp -->
    <script type="text/javascript">
        var musicnames;
        function indexDemo(result) {
            //回调函数名称(indexDemo)，需要与 src 中一致，而且要与文件地址中名一致。jsonp格式 名称({})
            //不然无法获取到对应的文件
            musicnames = result["files"]
        }    
    </script>
    <!--jsonp中 需要注意的是
    <script  src="jq.json?callback=loa"></script>
    src ? 之前为文件地址，? 之后为回调函数callback名称，
    回调函数可以简写为 cb ,  然后 回调函数 名称要与  文件中的名称一致
    可以在 对应的文件名中看下，如，jq.json?callback=loa,jq.json的  名字为  loa-->
    <script type="text/javascript" src="../index.json?callback=indexDemo"></script>

    <script src="../../music-widget/music.js"></script>
    <script>
        // 计算uid值在jsonp中的数值
        var UID='051';
        for (var k = 0; k < musicnames.length; k++) {
            if (musicnames[k]["uid"] == UID) { nowMusic = k; }
        }
        clearMusicList();
        musicnames.forEach(function (musicname) {
            pushMusic({
                "musicName": "../" + musicname["uid"] + "/a.mp3",
                "musicCover": "./images/bg1.jpg"
            });
        })
        musicload();
    </script>
    <link rel="stylesheet" href="../../music-widget/music.css">


    <div class="headerBar">
        <div class="header" id="getlangNow" lang="en">
            <h1 class="logo"><a href="http://0.0.0.0:8765/">每日听力</a></h1>
        </div>
    </div>
    <div id="transcript"></div>
    <script>
        //与自定义的播放器联系起来
        var $a = document.querySelector('#mp3');

        var $trans = document.getElementById("transcript");

        var sentences = []
    // 创建可点击文字
    function render(ret) {
      for (var k = 0; k < ret.length; k++) {
        sentences.push(txt_click(ret[k]));
      }
    }

    var cur_sentence = 0;
    function highlight_sentence() {
      var t = $a.currentTime;
      var active = document.querySelectorAll('.active');
      for (var i = 0; i < active.length; i++) {
        active[i].classList.remove('active');
      }
      for (var k = 0; k < sentences.length; k++) {
        if (INLINE_JSON[k].start < t && INLINE_JSON[k].end > t) {
          cur_sentence = sentences[k];
          cur_sentence.classList.add('active');
          // 自动翻滚
          var scrollto = document.querySelectorAll('.active')[0];
          scrollto.scrollIntoView({ behavior: "smooth", block: "center", inline: "nearest" });
          break;
        }
        //TODO:Error
      }

      window.requestAnimationFrame(highlight_sentence);
    }
    window.requestAnimationFrame(highlight_sentence);

    function txt_click(sentence) {
      //创建段落
      var $$wd = document.createElement('p');
      var $wd = document.createElement('span');
      var $wdText = document.createTextNode(sentence.val);
      $wd.appendChild($wdText);
      $$wd.appendChild($wd)
      $$wd.onclick = function () {
        $a.currentTime = sentence.start;
        $a.play()
      };
      //trans 是全局变量
      $trans.appendChild($$wd);
      return $$wd
    }

        var INLINE_JSON=[
  {
    "val": "O PERCH OFFERS an insight into the health of a society like a dentist’s stool.",
    "start_Offset": 0,
    "end_Offset": 14,
    "start": 18.08,
    "end": 23.12
  },
  {
    "val": "As a young practitioner in Paisley, an old weaving town outside Glasgow once famed for its teardrop-patterned scarves, Anas Sarwar would from time to time be called upon to perform“full clearances”on patients in their late teens, and fit them with dentures.",
    "start_Offset": 15,
    "end_Offset": 58,
    "start": 23.65,
    "end": 41.06
  },
  {
    "val": "The problem was methadone, a heroin substitute prescribed to addicts which is both acidic and sticky“and would pretty much fry the dentition”.",
    "start_Offset": 59,
    "end_Offset": 81,
    "start": 41.68,
    "end": 51.269999999999996
  },
  {
    "val": "The regional health board has the highest drug death rate in Scotland, which in turn has the highest in Europe.",
    "start_Offset": 82,
    "end_Offset": 101,
    "start": 52.33,
    "end": 58.63
  },
  {
    "val": "Alleviating such misery was the historic mission of the Labour Party in Scotland, which Mr Sarwar was elected to lead on February 27th.",
    "start_Offset": 102,
    "end_Offset": 124,
    "start": 59.65,
    "end": 67.22
  },
  {
    "val": "Towns like Paisley were its firmest strongholds, reliably returning Labour MPs since the war.",
    "start_Offset": 125,
    "end_Offset": 138,
    "start": 68.86,
    "end": 69.99
  },
  {
    "val": "At its zenith 20 years ago it ran Britain.",
    "start_Offset": 139,
    "end_Offset": 147,
    "start": 69.99,
    "end": 79.0
  },
  {
    "val": "Scots filled the Cabinet, in the form of Gordon Brown, Robin Cook, John Reid and Alistair Darling, and the ranks of advisers.",
    "start_Offset": 148,
    "end_Offset": 169,
    "start": 79.68,
    "end": 87.77
  },
  {
    "val": "In 1999, the party created Scotland’s devolved government, and then ran it.",
    "start_Offset": 170,
    "end_Offset": 181,
    "start": 88.39999999999999,
    "end": 93.25
  },
  {
    "val": "It was downhill from there.",
    "start_Offset": 182,
    "end_Offset": 186,
    "start": 93.78999999999999,
    "end": 95.83
  },
  {
    "val": "In 2007, the Scottish National Party took power in Edinburgh.",
    "start_Offset": 187,
    "end_Offset": 196,
    "start": 96.47999999999999,
    "end": 100.25999999999999
  },
  {
    "val": "In the 2015 general election, Labour was swept away in a nationalist surge, losing 40 of its 41 Westminster seats.",
    "start_Offset": 197,
    "end_Offset": 216,
    "start": 100.83999999999999,
    "end": 109.14
  },
  {
    "val": "Among them was Mr Sarwar’s in Glasgow Central, a seat previously held for 13 years by his father Mohammad (who now serves as Governor of Punjab, Pakistan’s most populous province).",
    "start_Offset": 217,
    "end_Offset": 246,
    "start": 109.66,
    "end": 121.16
  },
  {
    "val": "The party is now third in the Scottish Parliament, behind the Tories.",
    "start_Offset": 247,
    "end_Offset": 258,
    "start": 121.75,
    "end": 126.0
  },
  {
    "val": "The biggest problem for Mr Sarwar, Labour’s seventh full-time leader in Scotland since 2007, is the constitutional cleavage.",
    "start_Offset": 259,
    "end_Offset": 277,
    "start": 127.029999,
    "end": 135.87
  },
  {
    "val": "The independence referendum of 2014, in which Labour campaigned to keep the United Kingdom together, was a centrifuge.",
    "start_Offset": 278,
    "end_Offset": 295,
    "start": 136.41,
    "end": 143.949999
  },
  {
    "val": "The nationalist vote has consolidated behind the SNP, and unionists behind Tories.",
    "start_Offset": 296,
    "end_Offset": 307,
    "start": 144.309999,
    "end": 150.24
  },
  {
    "val": "Labour bled at both ends, just as the party split over Brexit in the rest of Britain.",
    "start_Offset": 308,
    "end_Offset": 324,
    "start": 150.81,
    "end": 156.229999
  },
  {
    "val": "A senior Tory compares Mr Sarwar favourably to Ruth Davidson, who revived the Scottish Conservatives.",
    "start_Offset": 325,
    "end_Offset": 339,
    "start": 157.24,
    "end": 164.10999999999999
  },
  {
    "val": "Like Sir Keir Starmer’s election to Labour’s leadership last year, it is a tack to the centre following the lacklustre tenure of Richard Leonard, who fired and then rehired Mr Sarwar to the shadow cabinet.",
    "start_Offset": 340,
    "end_Offset": 374,
    "start": 164.56,
    "end": 176.769999
  },
  {
    "val": "“We didn’t join the Labour Party to be a protest movement,”says Mr Sarwar.",
    "start_Offset": 375,
    "end_Offset": 388,
    "start": 177.44,
    "end": 181.45000000000002
  },
  {
    "val": "An exodus of disgruntled Corbynistas helped him win.",
    "start_Offset": 389,
    "end_Offset": 396,
    "start": 182.05,
    "end": 185.96
  },
  {
    "val": "Mr Sarwar’s first big test comes in the elections to the Scottish Parliament in May.",
    "start_Offset": 397,
    "end_Offset": 411,
    "start": 187.01,
    "end": 191.74
  },
  {
    "val": "Scottish voters say the constitution is the most important factor in determining their vote, before covid-19.",
    "start_Offset": 412,
    "end_Offset": 428,
    "start": 192.29,
    "end": 199.09999900000003
  },
  {
    "val": "“They are now polarised in their party choice between independents versus non-independents in a way they’ve not previously been to anything like the same extent in Scottish politics,”says John Curtice, professor of politics at the University of Strathclyde.",
    "start_Offset": 429,
    "end_Offset": 468,
    "start": 199.68,
    "end": 215.11999899999998
  },
  {
    "val": "That’s a problem for a party for whom“politics is about left versus right.”",
    "start_Offset": 469,
    "end_Offset": 482,
    "start": 215.66,
    "end": 220.64999999999998
  },
  {
    "val": "Mr Sarwar, who as a dentist enjoyed soothing fearful patients, seeks a détente.",
    "start_Offset": 483,
    "end_Offset": 495,
    "start": 221.65,
    "end": 228.22
  },
  {
    "val": "“For ten years, we have had politicians who have presented binary choices to the public, and forced them to pick a side,”he says.",
    "start_Offset": 496,
    "end_Offset": 519,
    "start": 228.23,
    "end": 235.55
  },
  {
    "val": "The Scottish Parliament’s focus should be on the country’s recovery from covid-19, rather than a struggle to split from London.",
    "start_Offset": 520,
    "end_Offset": 540,
    "start": 236.31,
    "end": 243.689999
  },
  {
    "val": "Labour is toying with ideas to revive devolution, which nationalists think inadequate and Tories regard as a failed strategy for quenching separatism.",
    "start_Offset": 541,
    "end_Offset": 562,
    "start": 244.26,
    "end": 254.74
  },
  {
    "val": "Mr Sarwar favours more powers for local authorities.",
    "start_Offset": 563,
    "end_Offset": 570,
    "start": 255.47,
    "end": 258.82
  },
  {
    "val": "Gordon Brown has called for Scotland to take a greater share of the powers previously wielded by Brussels, an overhauled House of Lords, and a new constitutional text declaring the“mission”of the UK’s four nations.",
    "start_Offset": 571,
    "end_Offset": 606,
    "start": 259.42,
    "end": 273.44
  },
  {
    "val": "Reforms must be bold, for Scots have little appetite for tinkering.",
    "start_Offset": 607,
    "end_Offset": 617,
    "start": 274.13,
    "end": 278.61
  },
  {
    "val": "In a three-way referendum, most would favour either independence or no change, while fewer than one in five would settle for more financial powers for Edinburgh, according to Panelbase, a pollster.",
    "start_Offset": 618,
    "end_Offset": 649,
    "start": 279.19,
    "end": 291.34000000000003
  },
  {
    "val": "The party brand isn’t wrecked and can be saved, for Scottish Labour is the preferred second-choice of both Conservatives and nationalists.",
    "start_Offset": 650,
    "end_Offset": 671,
    "start": 292.64,
    "end": 301.17
  },
  {
    "val": "Whether Mr Sarwar succeeds may well determine the future of Britain.",
    "start_Offset": 672,
    "end_Offset": 682,
    "start": 301.7,
    "end": 305.65000000000003
  },
  {
    "val": "The party’s weakness produces a brutal feedback loop.",
    "start_Offset": 683,
    "end_Offset": 690,
    "start": 306.309999,
    "end": 309.7
  },
  {
    "val": "If Scottish Labour cannot recover because of constitutional polarisation, it will be near-impossible for the Labour Party to win a majority in Britain.",
    "start_Offset": 691,
    "end_Offset": 714,
    "start": 310.13,
    "end": 318.42
  },
  {
    "val": "The Conservatives will continue to spook English voters with the prospect of a rickety Labour-SNP coalition, cementing their dominance south of the border.",
    "start_Offset": 715,
    "end_Offset": 738,
    "start": 319.46,
    "end": 329.09000000000003
  },
  {
    "val": "(In 2019, they ran ads featuring a tiny Jeremy Corbyn in Ms Sturgeon’s top pocket.",
    "start_Offset": 739,
    "end_Offset": 753,
    "start": 329.53,
    "end": 336.51
  },
  {
    "val": ") The SNP can continue to tell left-leaning Scots that the only alternative to perpetual Tory rule is independence.",
    "start_Offset": 754,
    "end_Offset": 772,
    "start": 337.34,
    "end": 345.37
  },
  {
    "val": "Conservatives know that the stalemate which has profited them handsomely is eroding the union.",
    "start_Offset": 773,
    "end_Offset": 786,
    "start": 345.94,
    "end": 351.85
  },
  {
    "val": "For it to survive, they must lose, now and again.",
    "start_Offset": 787,
    "end_Offset": 796,
    "start": 352.429999,
    "end": 356.6
  }
];
        render(INLINE_JSON);
    </script>
</body>

</html>
